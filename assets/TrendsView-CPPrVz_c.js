import{_ as v}from"./index-Dsk16SxS.js";import{s as m,d as V,h as u,l as B,c as i,a as e,j,b as a,u as o,T as z,C as y,F as b,r as g,t as n,E,m as k,f as H,o as r,_ as T}from"./index-KxkJJsT9.js";import{B as $}from"./brain-Cuzbmq_U.js";import{H as N}from"./heart-pulse-BxTwQZ4-.js";import{S as A,H as q}from"./smile-BIyRy9Gk.js";/**
 * @license lucide-vue-next v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=m("calendar-days",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-vue-next v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=m("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-vue-next v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=m("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-vue-next v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=m("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-vue-next v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=m("gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]),U={class:"max-w-2xl mx-auto p-4 space-y-8"},X={class:"flex items-center gap-2 text-2xl font-bold mb-2"},Y={class:"flex items-center gap-2 mb-2"},J={class:"relative"},K={key:0,class:"absolute z-10 mt-1 bg-white border rounded shadow w-32"},Q=["onClick"],W={class:"ml-2 text-gray-500 text-sm"},Z={class:"bg-white rounded-2xl shadow p-4 mb-2"},ee={class:"flex items-center gap-2 mb-2"},te={class:"h-56 flex flex-col justify-center items-center relative"},se={class:"flex flex-wrap gap-4 mt-4"},le={key:0,class:"fixed inset-0 bg-black/40 flex items-center justify-center z-50"},ae={class:"bg-white rounded-2xl shadow-lg p-6 w-full max-w-sm relative"},oe={class:"flex items-center gap-2 mb-2"},ne={class:"text-xl"},ie={class:"font-bold"},re={class:"bg-white rounded-2xl shadow p-4 mt-4"},ce={class:"list-disc pl-6 text-gray-700 space-y-1"},de=V({__name:"TrendsView",setup(pe){const x=[{label:"14 天",value:14},{label:"30 天",value:30},{label:"自訂",value:"custom"}],h=u(x[0]),c=u(!1),d=u({labels:["5月7日","5月8日","5月9日","5月10日","5月11日","5月12日","5月13日","5月14日","5月15日","5月16日","5月17日","5月18日","5月19日","5月20日"],metrics:[{key:"growth",label:"成長",icon:$,color:"text-green-600",points:[55,57,60,62,63,65,66,67,68,70,72,67,69,67],emoji:"🧠"},{key:"health",label:"健康",icon:N,color:"text-red-500",points:[60,61,62,63,65,66,67,68,69,70,71,72,73,74],emoji:"💪"},{key:"mindfulness",label:"正念",icon:A,color:"text-purple-500",points:[50,52,54,56,58,60,62,64,66,68,70,72,74,76],emoji:"🧘"},{key:"connection",label:"連結",icon:q,color:"text-yellow-600",points:[40,42,44,46,48,50,52,54,56,58,60,62,64,66],emoji:"🤝"},{key:"contribution",label:"貢獻",icon:O,color:"text-pink-500",points:[30,32,34,36,38,40,42,44,46,48,50,52,54,56],emoji:"🎁"}]}),p=u(null),w=u(!1);function _(){w.value=!1}function C(l){h.value=l,c.value=!1}function L(l){h.value=l,c.value=!1}const D=[{text:"最顯著進步：🧠 成長 (+12%)"},{text:"最少活躍：🎁 貢獻"},{text:"挑戰完成率在週末激增"},{text:"繼續努力！小行動 = 強大影響"}],R=B(()=>({tooltip:{trigger:"axis"},legend:{data:d.value.metrics.map(l=>l.label),top:10,textStyle:{color:"#222",fontSize:13}},grid:{left:40,right:20,top:40,bottom:30},xAxis:{type:"category",data:d.value.labels,boundaryGap:!1,axisLabel:{fontSize:12,color:"#888"},axisLine:{lineStyle:{color:"#e5e7eb"}},splitLine:{show:!1}},yAxis:{type:"value",min:0,max:100,axisLabel:{formatter:"{value}%",color:"#888"},axisLine:{lineStyle:{color:"#e5e7eb"}},splitLine:{show:!0,lineStyle:{color:"#f3f4f6"}}},series:d.value.metrics.map(l=>({name:l.label,type:"line",data:l.points,symbol:"circle",symbolSize:10,lineStyle:{width:3,color:S(l.color)},itemStyle:{color:S(l.color)},emphasis:{focus:"series"},smooth:!0})),backgroundColor:"rgba(255,255,255,0)"}));function S(l){return{"text-green-600":"#16a34a","text-red-500":"#ef4444","text-purple-500":"#a21caf","text-yellow-600":"#ca8a04","text-pink-500":"#ec4899"}[l]||"#8884d8"}return(l,t)=>{var M;return r(),i("div",U,[e("div",X,[a(o(z),{class:"w-7 h-7 text-blue-500"}),t[3]||(t[3]=e("span",null,"趨勢",-1))]),e("div",Y,[a(o(F),{class:"w-5 h-5 text-gray-400"}),a(o(v),{variant:"ghost",size:"sm",class:"px-2 py-1",onClick:t[0]||(t[0]=s=>C(x[0]))},{default:y(()=>[a(o(I),{class:"w-4 h-4"})]),_:1}),e("div",J,[a(o(v),{variant:"outline",size:"sm",class:"flex items-center gap-1 px-3 py-1 rounded-lg font-semibold",onClick:t[1]||(t[1]=s=>c.value=!c.value)},{default:y(()=>[k(n(h.value.label)+" ",1),a(o(G),{class:"w-4 h-4"})]),_:1}),c.value?(r(),i("div",K,[(r(),i(b,null,g(x,s=>e("div",{key:s.value,class:"px-3 py-2 hover:bg-blue-50 cursor-pointer",onClick:f=>L(s)},n(s.label),9,Q)),64))])):j("",!0)]),a(o(v),{variant:"ghost",size:"sm",class:"px-2 py-1",onClick:t[2]||(t[2]=s=>C(x[0]))},{default:y(()=>[a(o(P),{class:"w-4 h-4"})]),_:1}),e("span",W,"【最近 "+n(h.value.label)+"】",1)]),e("div",Z,[e("div",ee,[a(o(z),{class:"w-5 h-5 text-blue-400"}),t[4]||(t[4]=e("span",{class:"font-semibold"},"指標變化趨勢",-1))]),t[5]||(t[5]=e("div",{class:"text-xs text-gray-400 mb-2"}," Y 軸：指標百分比 (0–100%)  |  X 軸：日期（最近 14 天） ",-1)),e("div",te,[a(o(E),{option:R.value,autoresize:"",class:"w-full h-full"},null,8,["option"]),e("div",se,[(r(!0),i(b,null,g(d.value.metrics,s=>(r(),i("span",{key:s.key,class:"flex items-center gap-1 text-sm"},[e("span",null,n(s.emoji),1),e("span",{class:H(s.color)},n(s.label),3)]))),128))])]),t[6]||(t[6]=e("div",{class:"text-xs text-gray-400 mt-2"},"（點擊圓點可查看百分比與原因）",-1))]),w.value&&p.value?(r(),i("div",le,[e("div",ae,[e("button",{onClick:_,class:"absolute top-2 right-2 text-gray-400 hover:text-gray-700"}," ✕ "),e("div",oe,[e("span",ne,n((M=d.value.metrics.find(s=>{var f;return s.label===((f=p.value)==null?void 0:f.metric)}))==null?void 0:M.emoji),1),e("span",ie,n(p.value.metric)+"，"+n(p.value.date)+"： "+n(p.value.value)+"%",1)]),t[8]||(t[8]=e("div",{class:"text-sm text-gray-700 mb-1"},"• 來源：✅ 挑戰：「閱讀 15 分鐘」",-1)),t[9]||(t[9]=e("div",{class:"text-sm text-gray-500 mb-2"},"• 當天未填寫日誌",-1)),a(o(v),{onClick:_,variant:"secondary",class:"w-full mt-2"},{default:y(()=>t[7]||(t[7]=[k("關閉")])),_:1,__:[7]})])])):j("",!0),e("div",re,[t[10]||(t[10]=e("div",{class:"font-semibold mb-2 flex items-center gap-2"},[e("span",{class:"text-lg"},"📖"),k(" 每週洞察 ")],-1)),e("ul",ce,[(r(),i(b,null,g(D,s=>e("li",{key:s.text},n(s.text),1)),64))])])])}}}),ye=T(de,[["__scopeId","data-v-f6759411"]]);export{ye as default};
