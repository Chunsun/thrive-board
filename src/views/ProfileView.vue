<script setup lang="ts">
import { ref } from 'vue'
import { Button } from '@/components/ui/button'
import { User, Pencil, Bell, Download, Info } from 'lucide-vue-next'

// Mock user data (replace with real store later)
const user = ref({
  username: 'Alex',
  avatar: 'ğŸ§‘â€ğŸ¨',
  greeting: 'æŒçºŒæˆé•·ï¼ŒAlexï¼',
})

const metrics = [
  { key: 'growth', label: 'æˆé•·', emoji: 'ğŸ§ ', value: 72, color: 'bg-green-500' },
  { key: 'health', label: 'å¥åº·', emoji: 'ğŸ’ª', value: 60, color: 'bg-red-400' },
  { key: 'mindfulness', label: 'æ­£å¿µ', emoji: 'ğŸ§˜', value: 68, color: 'bg-purple-500' },
  { key: 'connection', label: 'é€£çµ', emoji: 'ğŸ¤', value: 52, color: 'bg-yellow-500' },
  { key: 'contribution', label: 'è²¢ç»', emoji: 'ğŸ', value: 75, color: 'bg-pink-500' },
]

const streaks = [
  { icon: 'ğŸ”¥', label: 'ç›®å‰é€£çºŒå¤©æ•¸', value: '4 å¤©' },
  { icon: 'ğŸ†', label: 'æœ€é•·é€£çºŒå¤©æ•¸', value: '9 å¤©' },
  { icon: 'ğŸ•’', label: 'æ´»èºå¤©æ•¸', value: '17' },
]

const badges = [
  { icon: 'ğŸ¥‡', label: 'å®Œæˆç¬¬ä¸€å€‹æŒ‘æˆ°' },
  { icon: 'âœï¸', label: '7 å¤©æ—¥èªŒé€£çºŒç´€éŒ„' },
  { icon: 'ğŸ“Š', label: 'æ‰€æœ‰æŒ‡æ¨™ > 70%' },
  { icon: 'â•', label: 'æ›´å¤šå¾½ç« å³å°‡æ¨å‡º...' },
]
</script>

<template>
  <div class="max-w-xl mx-auto p-4 space-y-8">
    <!-- Profile Header -->
    <div class="flex items-center gap-2 text-2xl font-bold mb-2">
      <User class="w-7 h-7 text-blue-500" />
      <span>å€‹äººæª”æ¡ˆ</span>
    </div>

    <!-- User Section -->
    <div class="bg-white rounded-2xl shadow p-4 flex flex-col items-center mb-2">
      <div class="text-5xl mb-2">{{ user.avatar }}</div>
      <div class="text-lg font-semibold mb-1">{{ user.greeting }}</div>
      <div class="text-gray-500 text-sm">@{{ user.username }}</div>
    </div>

    <!-- Metric Overview -->
    <div class="bg-white rounded-2xl shadow p-4 mb-2">
      <div class="font-semibold mb-2 flex items-center gap-2">
        <span class="text-lg">ğŸ“ˆ</span> æŒ‡æ¨™ç¸½è¦½
      </div>
      <div class="space-y-2">
        <div v-for="m in metrics" :key="m.key" class="flex items-center gap-2">
          <span class="w-7">{{ m.emoji }}</span>
          <span class="w-32 font-medium">{{ m.label }}</span>
          <div class="flex-1 h-3 bg-gray-200 rounded-full overflow-hidden">
            <div
              :class="[m.color, 'h-3 rounded-full transition-all']"
              :style="{ width: m.value + '%' }"
            ></div>
          </div>
          <span class="w-10 text-right font-mono">{{ m.value }}%</span>
        </div>
      </div>
    </div>

    <!-- Streaks & Milestones -->
    <div class="bg-white rounded-2xl shadow p-4 mb-2">
      <div class="font-semibold mb-2 flex items-center gap-2">
        <span class="text-lg">ğŸ”¥</span> é€£çºŒç´€éŒ„èˆ‡é‡Œç¨‹ç¢‘
      </div>
      <div class="flex flex-col gap-1">
        <div v-for="s in streaks" :key="s.label" class="flex items-center gap-2">
          <span class="w-7">{{ s.icon }}</span>
          <span class="flex-1">{{ s.label }}</span>
          <span class="font-mono">{{ s.value }}</span>
        </div>
      </div>
    </div>

    <!-- Badges -->
    <div class="bg-white rounded-2xl shadow p-4 mb-2">
      <div class="font-semibold mb-2 flex items-center gap-2">
        <span class="text-lg">ğŸ–ï¸</span> å¾½ç« 
      </div>
      <div class="flex flex-wrap gap-3">
        <div
          v-for="b in badges"
          :key="b.label"
          class="flex items-center gap-2 bg-gray-100 rounded-full px-3 py-1 text-sm"
        >
          <span>{{ b.icon }}</span>
          <span>{{ b.label }}</span>
        </div>
      </div>
    </div>

    <!-- Settings Section -->
    <div class="bg-white rounded-2xl shadow p-4 mb-2">
      <div class="font-semibold mb-2 flex items-center gap-2">
        <span class="text-lg">âš™ï¸</span> è¨­å®š
      </div>
      <div class="flex flex-col gap-2">
        <Button variant="ghost" class="justify-start gap-2 w-full"
          ><Pencil class="w-4 h-4" /> ç·¨è¼¯å€‹äººæª”æ¡ˆ</Button
        >
        <Button variant="ghost" class="justify-start gap-2 w-full"
          ><Bell class="w-4 h-4" /> é€šçŸ¥è¨­å®š</Button
        >
        <Button variant="ghost" class="justify-start gap-2 w-full"
          ><Download class="w-4 h-4" /> åŒ¯å‡ºè³‡æ–™</Button
        >
        <Button variant="ghost" class="justify-start gap-2 w-full"
          ><Info class="w-4 h-4" /> é—œæ–¼ / ç‰ˆæœ¬è³‡è¨Š</Button
        >
      </div>
    </div>
  </div>
</template>

<style scoped>
/* Add any custom styles if needed */
</style>
